<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji表情大全 - 点击复制</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: #f2f2f2;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: #667eea;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .search-box {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 50px;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .content {
            padding: 30px;
        }

        .category {
            margin-bottom: 40px;
        }

        .category-title {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 6px;
            justify-items: center;
            align-items: center;
        }

        .emoji-item {
            background: transparent;
            border: none;
            border-radius: 8px;
            padding: 2px 2px 4px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 48px;
            line-height: 1.2;
            font-family: "Segoe UI Emoji", "Noto Color Emoji", "Apple Color Emoji", "Segoe UI Symbol", sans-serif;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: max-content;
            justify-self: center;
            position: relative;
            overflow: visible;
        }

        .emoji-char {
            display: block;
            line-height: 1;
            white-space: nowrap;
        }

        .emoji-item:hover {
            background: rgba(102, 126, 234, 0.12);
            box-shadow: 0 0 0 1px #667eea, 0 10px 20px rgba(102, 126, 234, 0.3);
            transform: translateY(-3px);
        }

        .emoji-item:active {
            transform: translateY(-1px);
        }

        .copy-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .copy-notification.show {
            transform: translateX(0);
        }

        .stats {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #666;
            border-top: 1px solid #e9ecef;
        }

        @media (max-width: 768px) {
            .emoji-grid {
                grid-template-columns: repeat(auto-fill, minmax(72px, 1fr));
                gap: 6px;
            }
            
            .emoji-item {
                padding: 2px 2px 4px;
                font-size: 40px;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎉 Emoji表情大全</h1>
            <p>点击任意表情即可复制到剪贴板 | Click any emoji to copy</p>
        </div>

        <div class="search-box">
            <input type="text" class="search-input" placeholder="🔍 搜索表情... Search emojis..." id="searchInput">
        </div>

        <div class="content" id="content">
            <!-- Emoji categories will be loaded here -->
        </div>

        <div class="stats" id="stats">
            正在加载表情数据... Loading emoji data...
        </div>
    </div>

    <div class="copy-notification" id="copyNotification">
        ✅ 已复制到剪贴板！Copied to clipboard!
    </div>

    <script>
        // Emoji data structure
        const emojiData = {
            "笑脸与情感 | Smileys & Emotion": {
                "开心 | Happy": ["😀", "😃", "😄", "😁", "😆", "😅", "🤣", "😂", "🙂", "🙃", "😉", "😊", "😇"],
                "爱心 | Love": ["🥰", "😍", "🤩", "😘", "😗", "☺️", "😚", "😙", "🥲", "😋", "😛", "😜", "🤪", "😝"],
                "中性 | Neutral": ["🤑", "🤗", "🤭", "🤫", "🤔", "🤐", "🤨", "😐", "😑", "😶", "😏", "😒", "🙄", "😬"],
                "困倦 | Sleepy": ["😔", "😪", "🤤", "😴", "😷", "🤒", "🤕", "🤢", "🤮", "🤧", "🥵", "🥶", "🥴", "😵"],
                "担心 | Worried": ["😕", "😟", "🙁", "☹️", "😮", "😯", "😲", "😳", "🥺", "😦", "😧", "😨", "😰", "😥"],
                "生气 | Angry": ["😢", "😭", "😱", "😖", "😣", "😞", "😓", "😩", "😫", "🥱", "😤", "😡", "😠", "🤬"],
                "其他表情 | Other": ["😈", "👿", "💀", "☠️", "💩", "🤡", "👹", "👺", "👻", "👽", "👾", "🤖", "😺", "😸"]
            },
            "人物与身体 | People & Body": {
                "手势 | Hand Gestures": ["👋", "🤚", "🖐️", "✋", "🖖", "👌", "🤌", "🤏", "✌️", "🤞", "🤟", "🤘", "🤙", "👈", "👉", "👆", "🖕", "👇", "☝️", "👍", "👎", "👊", "✊", "🤛", "🤜", "👏", "🙌", "👐", "🤲", "🤝", "🙏"],
                "身体部位 | Body Parts": ["💪", "🦾", "🦿", "🦵", "🦶", "👂", "🦻", "👃", "🧠", "🫀", "🫁", "🦷", "🦴", "👀", "👁️", "👅", "👄", "💋"],
                "人物 | People": ["👶", "🧒", "👦", "👧", "🧑", "👱", "👨", "🧔", "👩", "🧓", "👴", "👵", "🙍", "🙎", "🙅", "🙆", "💁", "🙋", "🧏", "🙇", "🤦", "🤷"]
            },
            "动物与自然 | Animals & Nature": {
                "哺乳动物 | Mammals": ["🐶", "🐱", "🐭", "🐹", "🐰", "🦊", "🐻", "🐼", "🐨", "🐯", "🦁", "🐮", "🐷", "🐽", "🐸", "🐵", "🙈", "🙉", "🙊", "🐒", "🐔", "🐧", "🐦", "🐤", "🐣", "🐥"],
                "海洋生物 | Marine": ["🦆", "🦅", "🦉", "🦇", "🐺", "🐗", "🐴", "🦄", "🐝", "🐛", "🦋", "🐌", "🐞", "🐜", "🦟", "🦗", "🕷️", "🦂", "🐢", "🐍", "🦎", "🦖", "🦕", "🐙", "🦑", "🦐", "🦞", "🦀", "🐡", "🐠", "🐟", "🐬", "🐳", "🐋", "🦈"],
                "植物 | Plants": ["🌲", "🌳", "🌴", "🌵", "🌶️", "🍄", "🌾", "💐", "🌷", "🌹", "🥀", "🌺", "🌸", "🌼", "🌻", "🌞", "🌝", "🌛", "🌜", "🌚", "🌕", "🌖", "🌗", "🌘", "🌑", "🌒", "🌓", "🌔", "🌙", "⭐", "🌟", "💫", "✨", "☄️", "☀️", "🌤️", "⛅", "🌦️", "🌧️", "⛈️", "🌩️", "🌨️", "❄️", "☃️", "⛄", "🌬️", "💨", "🌪️", "🌫️", "🌈", "☔", "💧", "💦", "🌊"]
            },
            "食物与饮料 | Food & Drink": {
                "水果 | Fruits": ["🍎", "🍏", "🍐", "🍊", "🍋", "🍌", "🍉", "🍇", "🍓", "🫐", "🍈", "🍒", "🍑", "🥭", "🍍", "🥥", "🥝", "🍅", "🍆", "🥑", "🥦", "🥬", "🥒", "🌶️", "🫑", "🌽", "🥕", "🫒", "🧄", "🧅", "🥔", "🍠", "🥐", "🥯"],
                "主食 | Main Food": ["🍞", "🥖", "🥨", "🧀", "🥚", "🍳", "🧈", "🥞", "🧇", "🥓", "🥩", "🍗", "🍖", "🦴", "🌭", "🍔", "🍟", "🍕", "🥪", "🥙", "🧆", "🌮", "🌯", "🫔", "🥗", "🥘", "🫕", "🥫", "🍝", "🍜", "🍲", "🍛", "🍣", "🍱", "🥟", "🦪", "🍤", "🍙", "🍚", "🍘", "🍥", "🥠", "🥮", "🍢", "🍡", "🍧", "🍨", "🍦", "🥧", "🧁", "🍰", "🎂", "🍮", "🍭", "🍬", "🍫", "🍿", "🍩", "🍪"],
                "饮料 | Drinks": ["🥛", "☕", "🫖", "🍵", "🍶", "🍾", "🍷", "🍸", "🍹", "🍺", "🍻", "🥂", "🥃", "🥤", "🧋", "🧃", "🧉", "🧊"]
            },
            "活动与运动 | Activities & Sports": {
                "运动 | Sports": ["⚽", "🏀", "🏈", "⚾", "🥎", "🎾", "🏐", "🏉", "🥏", "🎱", "🪀", "🏓", "🏸", "🏒", "🏑", "🥍", "🏏", "🪃", "🥅", "⛳", "🪁", "🏹", "🎣", "🤿", "🥊", "🥋", "🎽", "🛹", "🛼", "🛷", "⛸️", "🥌", "🎿", "⛷️", "🏂", "🪂", "🏋️", "🤼", "🤸", "⛹️", "🤺", "🏌️", "🏇", "🧘", "🏄", "🏊", "🤽", "🚣", "🧗", "🚵", "🚴", "🏆", "🥇", "🥈", "🥉", "🏅", "🎖️", "🏵️", "🎗️"],
                "娱乐 | Entertainment": ["🎭", "🩰", "🎨", "🎬", "🎤", "🎧", "🎼", "🎵", "🎶", "🎹", "🥁", "🪘", "🎷", "🎺", "🪗", "🎸", "🪕", "🎻", "🎲", "♠️", "♥️", "♦️", "♣️", "♟️", "🃏", "🀄", "🎴", "🎯", "🎳", "🎮", "🕹️", "🎰", "🎪"]
            },
            "旅行与地点 | Travel & Places": {
                "交通工具 | Transportation": ["🚗", "🚕", "🚙", "🚌", "🚎", "🏎️", "🚓", "🚑", "🚒", "🚐", "🛻", "🚚", "🚛", "🚜", "🏍️", "🛵", "🚲", "🛴", "🛹", "🛼", "🚁", "✈️", "🛩️", "🛫", "🛬", "🪂", "💺", "🚀", "🛸", "🚉", "🚊", "🚝", "🚞", "🚋", "🚃", "🚋", "🚆", "🚄", "🚅", "🚈", "🚂", "🚖", "🚘", "🚍", "🚔", "🚒", "🚑", "🚓", "⛵", "🛥️", "🚤", "⛴️", "🛳️", "🚢", "⚓", "⛽", "🚧", "🚨", "🚥", "🚦", "🛑", "🚏"],
                "建筑 | Buildings": ["🏠", "🏡", "🏘️", "🏚️", "🏗️", "🏭", "🏢", "🏬", "🏣", "🏤", "🏥", "🏦", "🏨", "🏪", "🏫", "🏩", "💒", "🏛️", "⛪", "🕌", "🕍", "🛕", "🕋", "⛩️", "🛤️", "🛣️", "🗾", "🏞️", "🏟️", "🏛️", "🏗️", "🧱", "🪨", "🪵", "🛖", "🏘️", "🏚️", "🏠", "🏡", "🏢", "🏣", "🏤", "🏥", "🏦", "🏨", "🏩", "🏪", "🏫", "🏬", "🏭", "🏯", "🏰", "🗼", "🗽", "⛪", "🕌", "🛕", "🕍", "⛩️", "🕋"],
                "地理 | Geography": ["🌍", "🌎", "🌏", "🌐", "🗺️", "🗾", "🧭", "🏔️", "⛰️", "🌋", "🗻", "🏕️", "🏖️", "🏜️", "🏝️", "🏞️"]
            },
            "物品与符号 | Objects & Symbols": {
                "日常用品 | Daily Items": ["⌚", "📱", "📲", "💻", "⌨️", "🖥️", "🖨️", "🖱️", "🖲️", "🕹️", "🗜️", "💽", "💾", "💿", "📀", "📼", "📷", "📸", "📹", "🎥", "📽️", "🎞️", "📞", "☎️", "📟", "📠", "📺", "📻", "🎙️", "🎚️", "🎛️", "🧭", "⏱️", "⏲️", "⏰", "🕰️", "⌛", "⏳", "📡", "🔋", "🔌", "💡", "🔦", "🕯️", "🪔", "🧯", "🛢️", "💸", "💵", "💴", "💶", "💷", "🪙", "💰", "💳", "💎", "⚖️", "🪜", "🧰", "🔧", "🔨", "⚒️", "🛠️", "⛏️", "🔩", "⚙️", "🪚", "🔫", "🧨", "💣", "🔪", "🗡️", "⚔️", "🛡️", "🚬", "⚰️", "🪦", "⚱️", "🏺", "🔮", "📿", "🧿", "💈", "⚗️", "🔭", "🔬", "🕳️", "🩹", "🩺", "💊", "💉", "🩸", "🧬", "🦠", "🧫", "🧪", "🌡️", "🧹", "🪣", "🧽", "🧴", "🛎️", "🔑", "🗝️", "🚪", "🪑", "🛏️", "🛋️", "🪞", "🚿", "🛁", "🚽", "🪠", "🧻", "🪒", "🧼", "🪥", "🧴", "🧷", "🧹", "🧽"],
                "符号 | Symbols": ["❤️", "🧡", "💛", "💚", "💙", "💜", "🖤", "🤍", "🤎", "💔", "❣️", "💕", "💞", "💓", "💗", "💖", "💘", "💝", "💟", "☮️", "✝️", "☪️", "🕉️", "☸️", "✡️", "🔯", "🕎", "☯️", "☦️", "🛐", "⛎", "♈", "♉", "♊", "♋", "♌", "♍", "♎", "♏", "♐", "♑", "♒", "♓", "🆔", "⚛️", "🉑", "☢️", "☣️", "📴", "📳", "🈶", "🈚", "🈸", "🈺", "🈷️", "✴️", "🆚", "💮", "🉐", "㊙️", "㊗️", "🈴", "🈵", "🈹", "🈲", "🅰️", "🅱️", "🆎", "🆑", "🅾️", "🆘", "❌", "⭕", "🛑", "⛔", "📛", "🚫", "💯", "💢", "♨️", "🚷", "🚯", "🚳", "🚱", "🔞", "📵", "🚭", "❗", "❕", "❓", "❔", "‼️", "⁉️", "🔅", "🔆", "〽️", "⚠️", "🚸", "🔱", "⚜️", "🔰", "♻️", "✅", "🈯", "💹", "❇️", "✳️", "❎", "🌐", "💠", "Ⓜ️", "🌀", "💤", "🏧", "🚾", "♿", "🅿️", "🛗", "🈳", "🈂️", "🛂", "🛃", "🛄", "🛅", "🚹", "🚺", "🚼", "⚧️", "🚻", "🚮", "🎦", "📶", "🈁", "🔣", "ℹ️", "🔤", "🔡", "🔠", "🆖", "🆗", "🆙", "🆒", "🆕", "🆓", "0️⃣", "1️⃣", "2️⃣", "3️⃣", "4️⃣", "5️⃣", "6️⃣", "7️⃣", "8️⃣", "9️⃣", "🔟", "🔢", "#️⃣", "*️⃣", "⏏️", "▶️", "⏸️", "⏯️", "⏹️", "⏺️", "⏭️", "⏮️", "⏩", "⏪", "⏫", "⏬", "◀️", "🔼", "🔽", "➡️", "⬅️", "⬆️", "⬇️", "↗️", "↘️", "↙️", "↖️", "↕️", "↔️", "↪️", "↩️", "⤴️", "⤵️", "🔀", "🔁", "🔂", "🔄", "🔃", "🎵", "🎶", "➕", "➖", "➗", "✖️", "🟰", "♾️", "💲", "💱", "™️", "©️", "®️", "〰️", "➰", "➿", "🔚", "🔙", "🔛", "🔝", "🔜", "✔️", "☑️", "🔘", "🔴", "🟠", "🟡", "🟢", "🔵", "🟣", "⚫", "⚪", "🟤", "🔺", "🔻", "🔸", "🔹", "🔶", "🔷", "🔳", "🔲", "▪️", "▫️", "◾", "◽", "◼️", "◻️", "🟥", "🟧", "🟨", "🟩", "🟦", "🟪", "⬛", "⬜", "🟫", "🔈", "🔇", "🔉", "🔊", "🔔", "🔕", "📣", "📢", "👁️‍🗨️", "💬", "💭", "🗯️", "♠️", "♣️", "♥️", "♦️", "🃏", "🎴", "🀄", "🕐", "🕑", "🕒", "🕓", "🕔", "🕕", "🕖", "🕗", "🕘", "🕙", "🕚", "🕛", "🕜", "🕝", "🕞", "🕟", "🕠", "🕡", "🕢", "🕣", "🕤", "🕥", "🕦", "🕧"]
            },
            "节日与庆祝 | Holidays & Celebrations": {
                "节日 | Holidays": ["🎄", "🎅", "🤶", "🎁", "🎀", "🎊", "🎉", "🎈", "🎂", "🧨", "🎆", "🎇", "🧧", "🏮", "🎃", "👻", "💀", "☠️", "🦇", "🕷️", "🕸️", "🍭", "🍬", "🍫", "🧙", "🧛", "🧟", "🎭", "🎪", "🎨", "🎬", "🎤", "🎧", "🎼", "🎵", "🎶", "🎹", "🥁", "🎷", "🎺", "🎸", "🎻"],
                "生日 | Birthday": ["🎂", "🧁", "🍰", "🎈", "🎉", "🎊", "🎁", "🎀", "🥳", "🍾", "🥂", "🍻", "🎵", "🎶", "💐", "🌹", "🌺", "🌸", "🌼", "🌻", "🎯", "🎲", "🃏", "🎴", "🎮", "🕹️"],
                "爱情 | Love": ["💕", "💞", "💓", "💗", "💖", "💘", "💝", "💟", "❣️", "💔", "❤️‍🔥", "❤️‍🩹", "❤️", "🧡", "💛", "💚", "💙", "💜", "🤎", "🖤", "🤍", "💋", "💌", "💐", "🌹", "🌷", "🌺", "🌸", "🌼", "🌻", "💒", "👰", "🤵", "💍", "💎"]
            },
            "职业与角色 | Professions & Roles": {
                "职业 | Professions": ["👨‍⚕️", "👩‍⚕️", "👨‍🌾", "👩‍🌾", "👨‍🍳", "👩‍🍳", "👨‍🎓", "👩‍🎓", "👨‍🎤", "👩‍🎤", "👨‍🏫", "👩‍🏫", "👨‍🏭", "👩‍🏭", "👨‍💻", "👩‍💻", "👨‍💼", "👩‍💼", "👨‍🔧", "👩‍🔧", "👨‍🔬", "👩‍🔬", "👨‍🎨", "👩‍🎨", "👨‍🚒", "👩‍🚒", "👨‍✈️", "👩‍✈️", "👨‍🚀", "👩‍🚀", "👨‍⚖️", "👩‍⚖️", "👮‍♂️", "👮‍♀️", "🕵️‍♂️", "🕵️‍♀️", "💂‍♂️", "💂‍♀️", "👷‍♂️", "👷‍♀️", "🤴", "👸", "👳‍♂️", "👳‍♀️", "👲", "🧕", "🤵‍♂️", "🤵‍♀️", "👰‍♂️", "👰‍♀️", "🤰", "🤱", "👼", "🎅", "🤶", "🦸‍♂️", "🦸‍♀️", "🦹‍♂️", "🦹‍♀️", "🧙‍♂️", "🧙‍♀️", "🧚‍♂️", "🧚‍♀️", "🧛‍♂️", "🧛‍♀️", "🧜‍♂️", "🧜‍♀️", "🧝‍♂️", "🧝‍♀️", "🧞‍♂️", "🧞‍♀️", "🧟‍♂️", "🧟‍♀️"],
                "家庭 | Family": ["👶", "🧒", "👦", "👧", "🧑", "👱", "👨", "🧔", "👩", "🧓", "👴", "👵", "👪", "👨‍👩‍👧", "👨‍👩‍👦", "👨‍👩‍👧‍👦", "👨‍👨‍👦", "👨‍👨‍👧", "👨‍👨‍👧‍👦", "👩‍👩‍👦", "👩‍👩‍👧", "👩‍👩‍👧‍👦", "👨‍👦", "👨‍👦‍👦", "👨‍👧", "👨‍👧‍👦", "👨‍👧‍👧", "👩‍👦", "👩‍👦‍👦", "👩‍👧", "👩‍👧‍👦", "👩‍👧‍👧", "🗣️", "👤", "👥", "🫂"]
            },
            "服装与配饰 | Clothing & Accessories": {
                "服装 | Clothing": ["👕", "👔", "👖", "🧣", "🧤", "🧥", "🧦", "👗", "👘", "🥻", "🩱", "🩲", "🩳", "👙", "👚", "👛", "👜", "👝", "🛍️", "🎒", "👞", "👟", "🥾", "🥿", "👠", "👡", "🩰", "👢", "👑", "👒", "🎩", "🎓", "🧢", "⛑️", "📿", "💄", "💍", "💎", "🔇", "🔈", "🔉", "🔊", "📢", "📣", "📯", "🔔", "🔕"],
                "配饰 | Accessories": ["👓", "🕶️", "🥽", "🥼", "🦺", "👔", "👕", "👖", "🧣", "🧤", "🧥", "🧦", "👗", "👘", "🥻", "🩱", "🩲", "🩳", "👙", "👚", "👛", "👜", "👝", "🛍️", "🎒", "👞", "👟", "🥾", "🥿", "👠", "👡", "🩰", "👢", "👑", "👒", "🎩", "🎓", "🧢", "⛑️", "📿", "💄", "💍", "💎"]
            },
            "科技与数码 | Technology & Digital": {
                "电子设备 | Electronics": ["📱", "📲", "☎️", "📞", "📟", "📠", "🔋", "🔌", "💻", "🖥️", "🖨️", "⌨️", "🖱️", "🖲️", "💽", "💾", "💿", "📀", "🧮", "🎥", "📹", "📷", "📸", "📼", "🔍", "🔎", "🕯️", "💡", "🔦", "🏮", "🪔", "📔", "📕", "📖", "📗", "📘", "📙", "📚", "📓", "📒", "📃", "📜", "📄", "📰", "🗞️", "📑", "🔖", "🏷️", "💰", "💴", "💵", "💶", "💷", "💸", "💳", "🧾", "💹", "✉️", "📧", "📨", "📩", "📤", "📥", "📦", "📫", "📪", "📬", "📭", "📮", "🗳️", "✏️", "✒️", "🖋️", "🖊️", "🖌️", "🖍️", "📝", "💼", "📁", "📂", "🗂️", "📅", "📆", "🗒️", "🗓️", "📇", "📈", "📉", "📊", "📋", "📌", "📍", "📎", "🖇️", "📏", "📐", "✂️", "🗃️", "🗄️", "🗑️"],
                "网络与通信 | Internet & Communication": ["💬", "👁️‍🗨️", "🗨️", "🗯️", "💭", "💤", "📢", "📣", "📯", "🔔", "🔕", "🎵", "🎶", "🔇", "🔈", "🔉", "🔊", "📻", "🎙️", "🎚️", "🎛️", "🎧", "📺", "📡", "🔭", "📱", "📲", "☎️", "📞", "📟", "📠", "🌐", "💻", "🖥️", "⌨️", "🖱️", "🖲️", "💽", "💾", "💿", "📀", "🧮", "🔋", "🔌", "💡", "🔦", "🕯️", "🪔", "🏮"]
            },
            "天气与季节 | Weather & Seasons": {
                "天气 | Weather": ["☀️", "🌤️", "⛅", "🌥️", "☁️", "🌦️", "🌧️", "⛈️", "🌩️", "🌨️", "❄️", "☃️", "⛄", "🌬️", "💨", "🌪️", "🌫️", "🌈", "☔", "💧", "💦", "🌊", "🌀", "🌡️", "🔥", "💥", "⭐", "🌟", "💫", "✨", "☄️", "🌙", "🌛", "🌜", "🌚", "🌝", "🌞"],
                "季节 | Seasons": ["🌸", "🌺", "🌻", "🌷", "🌹", "🌼", "🌿", "🍀", "🌱", "🌾", "🍂", "🍁", "🍃", "🌳", "🌲", "🌴", "🌵", "🎋", "🎍", "🌰", "🥥", "🍄", "🌶️", "🫑", "🥒", "🥬", "🥦", "🧄", "🧅", "🌽", "🥕", "🍠", "🥔", "🍆", "🍅", "🥑", "🫒", "🥭", "🍍", "🥝", "🍌", "🍋", "🍊", "🍎", "🍏", "🍐", "🍑", "🍒", "🍓", "🫐", "🍇", "🍈", "🍉"]
            },
            "医疗健康 | Medical & Health": {
                "医疗 | Medical": ["🏥", "🚑", "⚕️", "🩺", "💊", "💉", "🩸", "🩹", "🩼", "🦽", "🦼", "🧬", "🦠", "🧫", "🧪", "🌡️", "🔬", "⚗️", "🧯", "🪒", "🧴", "🧼", "🪥", "🧻", "🚿", "🛁", "🚽", "🪠", "🧽", "🧹", "🪣"],
                "身体健康 | Body Health": ["💪", "🦾", "🦿", "🦵", "🦶", "👂", "🦻", "👃", "🧠", "🫀", "🫁", "🦷", "🦴", "👀", "👁️", "👅", "👄", "💋", "🫦", "🫃", "🤱", "👶", "🧒", "👦", "👧", "🧑", "👱", "👨", "🧔", "👩", "🧓", "👴", "👵"],
                "运动健身 | Fitness": ["🏃‍♂️", "🏃‍♀️", "🚶‍♂️", "🚶‍♀️", "🧘‍♂️", "🧘‍♀️", "🏋️‍♂️", "🏋️‍♀️", "🤸‍♂️", "🤸‍♀️", "⛹️‍♂️", "⛹️‍♀️", "🤾‍♂️", "🤾‍♀️", "🏌️‍♂️", "🏌️‍♀️", "🏄‍♂️", "🏄‍♀️", "🏊‍♂️", "🏊‍♀️", "🤽‍♂️", "🤽‍♀️", "🚣‍♂️", "🚣‍♀️", "🧗‍♂️", "🧗‍♀️", "🚵‍♂️", "🚵‍♀️", "🚴‍♂️", "🚴‍♀️", "🏇", "🤺", "🏂", "⛷️", "🏎️", "🏍️"]
            },
            "学习教育 | Education & Learning": {
                "学校用品 | School Supplies": ["📚", "📖", "📝", "✏️", "✒️", "🖋️", "🖊️", "🖌️", "🖍️", "📏", "📐", "✂️", "📌", "📍", "📎", "🖇️", "📋", "📁", "📂", "🗂️", "📅", "📆", "🗒️", "🗓️", "📇", "📈", "📉", "📊", "🔖", "🏷️", "📄", "📃", "📑", "📜", "📰", "🗞️", "📔", "📕", "📗", "📘", "📙", "📓", "📒"],
                "学科 | Subjects": ["🔢", "➕", "➖", "✖️", "➗", "🟰", "💯", "🔤", "🔡", "🔠", "📝", "📖", "📚", "🧮", "🔬", "🧪", "⚗️", "🧬", "🔭", "🌍", "🌎", "🌏", "🗺️", "🧭", "⚖️", "🎨", "🖌️", "🖍️", "🎭", "🎪", "🎨", "🎬", "🎤", "🎧", "🎼", "🎵", "🎶", "🎹", "🥁", "🎷", "🎺", "🎸", "🎻"],
                "学位与成就 | Degrees & Achievements": ["🎓", "📜", "🏆", "🥇", "🥈", "🥉", "🏅", "🎖️", "🏵️", "🎗️", "💯", "⭐", "🌟", "✨", "💫", "🔥", "👑", "💎", "🎯", "🎪", "🎭", "🎨", "🎬", "🎤", "🎧", "🎼", "🎵", "🎶"]
            },
            "宗教与文化 | Religion & Culture": {
                "宗教符号 | Religious Symbols": ["✝️", "☪️", "🕉️", "☸️", "✡️", "🔯", "🕎", "☯️", "☦️", "🛐", "⛪", "🕌", "🛕", "🕍", "⛩️", "🕋", "📿", "🧿", "🔮", "⚛️", "🕯️", "🪔", "💒", "⚰️", "🪦", "⚱️"],
                "传统文化 | Traditional Culture": ["🏮", "🧧", "🎋", "🎍", "🎎", "🎏", "🎐", "🧨", "🎆", "🎇", "🎑", "🏺", "🗿", "🎭", "🎪", "🎨", "🖼️", "🎬", "🎤", "🎧", "🎼", "🎵", "🎶", "🎹", "🥁", "🪘", "🎷", "🎺", "🪗", "🎸", "🪕", "🎻", "🎲", "🃏", "🀄", "🎴"],
                "节庆活动 | Festivals": ["🎄", "🎅", "🤶", "🎁", "🎀", "🎊", "🎉", "🎈", "🎂", "🧁", "🍰", "🥳", "🍾", "🥂", "🍻", "🎃", "👻", "💀", "☠️", "🦇", "🕷️", "🕸️", "🍭", "🍬", "🍫", "🧙", "🧛", "🧟", "🎭", "🎪"]
            },
            "国旗与地区 | Flags & Regions": {
                "主要国家 | Major Countries": ["🇨🇳", "🇺🇸", "🇬🇧", "🇯🇵", "🇰🇷", "🇫🇷", "🇩🇪", "🇮🇹", "🇪🇸", "🇷🇺", "🇨🇦", "🇦🇺", "🇧🇷", "🇮🇳", "🇲🇽", "🇳🇱", "🇸🇪", "🇳🇴", "🇩🇰", "🇫🇮", "🇨🇭", "🇦🇹", "🇧🇪", "🇵🇹", "🇬🇷", "🇹🇷"],
                "亚洲国家 | Asian Countries": ["🇨🇳", "🇯🇵", "🇰🇷", "🇮🇳", "🇹🇭", "🇻🇳", "🇵🇭", "🇲🇾", "🇮🇩", "🇸🇬", "🇲🇲", "🇰🇭", "🇱🇦", "🇧🇩", "🇵🇰", "🇱🇰", "🇳🇵", "🇦🇫", "🇮🇷", "🇮🇶", "🇸🇦", "🇦🇪", "🇮🇱", "🇯🇴", "🇱🇧", "🇸🇾", "🇹🇷", "🇦🇲", "🇦🇿", "🇬🇪", "🇰🇿", "🇺🇿", "🇰🇬", "🇹🇯", "🇹🇲", "🇲🇳"],
                "欧洲国家 | European Countries": ["🇬🇧", "🇫🇷", "🇩🇪", "🇮🇹", "🇪🇸", "🇷🇺", "🇳🇱", "🇸🇪", "🇳🇴", "🇩🇰", "🇫🇮", "🇨🇭", "🇦🇹", "🇧🇪", "🇵🇹", "🇬🇷", "🇵🇱", "🇨🇿", "🇸🇰", "🇭🇺", "🇷🇴", "🇧🇬", "🇭🇷", "🇸🇮", "🇪🇪", "🇱🇻", "🇱🇹", "🇺🇦", "🇧🇾", "🇲🇩", "🇮🇪", "🇮🇸", "🇲🇹", "🇨🇾", "🇱🇺", "🇲🇨", "🇻🇦", "🇸🇲", "🇦🇩"],
                "美洲国家 | American Countries": ["🇺🇸", "🇨🇦", "🇲🇽", "🇧🇷", "🇦🇷", "🇨🇱", "🇵🇪", "🇨🇴", "🇻🇪", "🇪🇨", "🇧🇴", "🇺🇾", "🇵🇾", "🇬🇾", "🇸🇷", "🇨🇺", "🇯🇲", "🇭🇹", "🇩🇴", "🇵🇷", "🇬🇹", "🇧🇿", "🇸🇻", "🇭🇳", "🇳🇮", "🇨🇷", "🇵🇦"],
                "非洲国家 | African Countries": ["🇿🇦", "🇪🇬", "🇳🇬", "🇰🇪", "🇪🇹", "🇬🇭", "🇲🇦", "🇹🇳", "🇩🇿", "🇱🇾", "🇸🇩", "🇺🇬", "🇹🇿", "🇷🇼", "🇿🇼", "🇧🇼", "🇳🇦", "🇿🇲", "🇲🇼", "🇲🇿", "🇲🇬", "🇲🇺", "🇸🇨"],
                "大洋洲国家 | Oceanian Countries": ["🇦🇺", "🇳🇿", "🇫🇯", "🇵🇬", "🇳🇨", "🇻🇺", "🇸🇧", "🇹🇴", "🇼🇸", "🇰🇮", "🇳🇷", "🇹🇻", "🇵🇼", "🇫🇲", "🇲🇭"],
                "特殊旗帜 | Special Flags": ["🏁", "🚩", "🎌", "🏴", "🏳️", "🏳️‍🌈", "🏳️‍⚧️", "🏴‍☠️", "🇺🇳", "🇪🇺"]
            },
            "星座与占卜 | Zodiac & Fortune": {
                "十二星座 | Zodiac Signs": ["♈", "♉", "♊", "♋", "♌", "♍", "♎", "♏", "♐", "♑", "♒", "♓", "⛎"],
                "占卜符号 | Fortune Symbols": ["🔮", "🎴", "🃏", "🀄", "🎲", "🎯", "🎰", "🧿", "📿", "💎", "💍", "👑", "🔱", "⚜️", "🌟", "⭐", "✨", "💫", "☄️", "🌙", "🌛", "🌜", "🌚", "🌝", "🌞", "☀️", "🌈", "🍀", "🌸", "🌺", "🌻", "🌷", "🌹", "🌼"]
            },
            "数学与科学 | Math & Science": {
                "数学符号 | Math Symbols": ["➕", "➖", "✖️", "➗", "🟰", "💯", "🔢", "#️⃣", "*️⃣", "0️⃣", "1️⃣", "2️⃣", "3️⃣", "4️⃣", "5️⃣", "6️⃣", "7️⃣", "8️⃣", "9️⃣", "🔟", "💲", "💱", "♾️", "📐", "📏", "🧮", "⚖️"],
                "科学符号 | Science Symbols": ["⚛️", "🧬", "🔬", "🔭", "⚗️", "🧪", "🧫", "🦠", "🌡️", "💉", "💊", "🩺", "🩸", "🧠", "🫀", "🫁", "🦷", "🦴", "👁️", "🔋", "🔌", "💡", "🔦", "🕯️", "🪔", "🧯", "🛢️", "⚙️", "🔩", "🔧", "🔨", "⚒️", "🛠️", "⛏️", "🪚", "🗜️", "📡", "🛰️", "🚀", "🛸", "🌍", "🌎", "🌏", "🌐", "🗺️", "🧭"]
            },
            "音乐与艺术 | Music & Art": {
                "音乐符号 | Music Symbols": ["🎵", "🎶", "🎼", "🎤", "🎧", "🎙️", "🎚️", "🎛️", "🎹", "🥁", "🪘", "🎷", "🎺", "🪗", "🎸", "🪕", "🎻", "🎪", "🎭", "🎨", "🖌️", "🖍️", "🖊️", "🖋️", "✏️", "✒️", "📝"],
                "艺术用品 | Art Supplies": ["🎨", "🖌️", "🖍️", "✏️", "✒️", "🖋️", "🖊️", "📝", "📏", "📐", "✂️", "📎", "🖇️", "📌", "📍", "🔖", "🏷️", "📄", "📃", "📑", "📜", "🗞️", "📰", "📔", "📕", "📗", "📘", "📙", "📚", "📓", "📒", "📖", "🖼️", "🎭", "🎪", "🎬", "📹", "🎥", "📷", "📸", "🎞️", "📽️", "📼"]
            },
            "游戏与娱乐 | Games & Entertainment": {
                "游戏 | Games": ["🎮", "🕹️", "🎯", "🎲", "🃏", "🎴", "🀄", "♠️", "♥️", "♦️", "♣️", "♟️", "🎰", "🎪", "🎭", "🎨", "🎬", "🎤", "🎧", "🎼", "🎵", "🎶", "🎹", "🥁", "🎷", "🎺", "🎸", "🎻"],
                "娱乐活动 | Entertainment Activities": ["🎪", "🎭", "🎨", "🎬", "🎤", "🎧", "🎼", "🎵", "🎶", "🎹", "🥁", "🪘", "🎷", "🎺", "🪗", "🎸", "🪕", "🎻", "🎲", "🎯", "🎳", "🎮", "🕹️", "🎰", "🎪", "🎭", "🩰", "🎨", "🖼️", "📚", "📖", "📝", "✏️", "🖊️", "🖋️", "🖌️", "🖍️"]
            },
            "表情符号扩展 | Extended Emojis": {
                "新表情 | New Emojis": ["🫠", "🫢", "🫣", "🫡", "🫥", "🫤", "🥹", "😮‍💨", "😵‍💫", "😶‍🌫️", "❤️‍🔥", "❤️‍🩹", "🧔‍♀️", "🧔‍♂️", "👨‍🍼", "👩‍🍼", "🧑‍🍼", "🫃", "🫄", "🫰", "🫵", "🫶", "🤌", "🫳", "🫴", "🫷", "🫸", "🫦", "🫅", "🫃", "🫄"],
                "手势扩展 | Extended Gestures": ["🤏", "🤌", "🫰", "🤞", "🫵", "🫶", "🤝", "👐", "🙌", "👏", "🤲", "🙏", "✍️", "💅", "🤳", "💪", "🦾", "🦿", "🦵", "🦶", "👂", "🦻", "👃", "🧠", "🫀", "🫁", "🦷", "🦴", "👀", "👁️", "👅", "👄", "🫦"],
                "动物扩展 | Extended Animals": ["🦣", "🦏", "🦛", "🦘", "🦒", "🐘", "🦌", "🐕", "🐩", "🦮", "🐕‍🦺", "🐈", "🐈‍⬛", "🦝", "🦨", "🦡", "🦫", "🦦", "🦥", "🐁", "🐀", "🐿️", "🦔", "🐾", "🐉", "🐲", "🌵", "🎄", "🌲", "🌳", "🌴", "🪵", "🌱", "🌿", "☘️", "🍀", "🎍", "🪴", "🎋", "🍃", "🍂", "🍁", "🪺", "🪶"],
                "食物扩展 | Extended Food": ["🫐", "🫒", "🥭", "🥥", "🥝", "🍅", "🍆", "🥑", "🥦", "🥬", "🥒", "🌶️", "🫑", "🌽", "🥕", "🧄", "🧅", "🥔", "🍠", "🫘", "🥜", "🌰", "🍞", "🥐", "🥖", "🫓", "🥨", "🥯", "🥞", "🧇", "🧀", "🍖", "🍗", "🥩", "🥓", "🍔", "🍟", "🍕", "🌭", "🥪", "🌮", "🌯", "🫔", "🥙", "🧆", "🥚", "🍳", "🥘", "🍲", "🫕", "🥣", "🥗", "🍿", "🧈", "🧂", "🥫"],
                "饮品扩展 | Extended Drinks": ["🍼", "🥛", "☕", "🫖", "🍵", "🧃", "🥤", "🧋", "🍶", "🍺", "🍻", "🥂", "🍷", "🥃", "🍸", "🍹", "🧉", "🍾", "🧊", "🥄", "🍴", "🍽️", "🥢", "🥡"]
            },
            "工具与物品 | Tools & Objects": {
                "工具 | Tools": ["🔨", "⚒️", "🛠️", "⛏️", "🔧", "🔩", "⚙️", "🪚", "🔫", "🏹", "🛡️", "🪃", "🥍", "🪀", "🪁", "🎣", "🤿", "🥽", "🥼", "🦺", "⛑️", "🪖", "💎", "🔮", "🧿", "📿", "💍", "💄", "💋", "👑", "🎩", "🎓", "🧢", "👒", "🎀", "🎁", "🎊", "🎉", "🎈", "🎀", "🎁", "🎊", "🎉", "🎈"],
                "家居用品 | Household Items": ["🛏️", "🛋️", "🪑", "🚪", "🪟", "🪞", "🚿", "🛁", "🚽", "🪠", "🧻", "🪥", "🧼", "🪒", "🧴", "🧽", "🧹", "🪣", "🧺", "🧷", "🪡", "🧵", "🪢", "🔑", "🗝️", "🔐", "🔒", "🔓", "🔏", "🔐", "🔑", "🗝️", "🛎️", "🧯", "🪔", "🕯️", "💡", "🔦", "🏮", "🪩", "🔌", "🔋", "🪫", "💻", "🖥️", "🖨️", "⌨️", "🖱️", "🖲️", "💽", "💾", "💿", "📀"],
                "办公用品 | Office Supplies": ["📱", "📲", "☎️", "📞", "📟", "📠", "📺", "📻", "🎙️", "🎚️", "🎛️", "🧭", "⏱️", "⏲️", "⏰", "🕰️", "⏳", "⌛", "📡", "🔋", "🔌", "💡", "🔦", "🕯️", "🪔", "🧯", "🛢️", "💸", "💵", "💴", "💶", "💷", "🪙", "💰", "💳", "💎", "⚖️", "🪜", "🧰", "📦", "📫", "📪", "📬", "📭", "📮", "🗳️", "✏️", "✒️", "🖋️", "🖊️", "🖌️", "🖍️", "📝"]
            },
            "自然与环境 | Nature & Environment": {
                "植物花卉 | Plants & Flowers": ["🌸", "🌺", "🌻", "🌷", "🌹", "🌼", "🌿", "🍀", "🌱", "🌾", "🍂", "🍁", "🍃", "🌳", "🌲", "🌴", "🌵", "🎋", "🎍", "🌰", "🥥", "🍄", "🪴", "🌿", "☘️", "🍀", "🎍", "🪴", "🎋", "🍃", "🍂", "🍁", "🪺", "🪶"],
                "天体宇宙 | Celestial & Space": ["🌞", "🌝", "🌛", "🌜", "🌚", "🌕", "🌖", "🌗", "🌘", "🌑", "🌒", "🌓", "🌔", "🌙", "⭐", "🌟", "💫", "✨", "☄️", "🪐", "🌌", "🌠", "🛸", "🚀", "🛰️", "🌍", "🌎", "🌏", "🌐"],
                "地质地貌 | Geology & Landscape": ["🏔️", "⛰️", "🌋", "🗻", "🏕️", "🏖️", "🏜️", "🏝️", "🏞️", "🗾", "🧭", "🏟️", "🏛️", "🏗️", "🧱", "🪨", "🪵", "🛖", "🏘️", "🏚️"]
            },
            "情感与关系 | Emotions & Relationships": {
                "爱情表达 | Love Expression": ["💕", "💞", "💓", "💗", "💖", "💘", "💝", "💟", "❣️", "💔", "❤️‍🔥", "❤️‍🩹", "❤️", "🧡", "💛", "💚", "💙", "💜", "🤎", "🖤", "🤍", "💋", "💌", "💐", "🌹", "🌷", "🌺", "🌸", "🌼", "🌻", "💒", "👰", "🤵", "💍", "💎", "👑"],
                "友谊互动 | Friendship & Interaction": ["🤝", "👐", "🙌", "👏", "🤲", "🙏", "✍️", "💅", "🤳", "🫂", "👥", "👤", "🗣️", "👁️‍🗨️", "💬", "🗨️", "🗯️", "💭", "💤"],
                "庆祝祝福 | Celebration & Blessing": ["🎉", "🎊", "🎈", "🎁", "🎀", "🥳", "🍾", "🥂", "🍻", "🎂", "🧁", "🍰", "🎵", "🎶", "💐", "🌹", "🌺", "🌸", "🌼", "🌻", "🎯", "🎲", "🃏", "🎴", "🎮", "🕹️"]
            },
            "时间与日程 | Time & Schedule": {
                "时间概念 | Time Concepts": ["⏰", "🕐", "🕑", "🕒", "🕓", "🕔", "🕕", "🕖", "🕗", "🕘", "🕙", "🕚", "🕛", "🕜", "🕝", "🕞", "🕟", "🕠", "🕡", "🕢", "🕣", "🕤", "🕥", "🕦", "🕧", "⏱️", "⏲️", "⏰", "🕰️", "⌛", "⏳"],
                "日程安排 | Schedule & Planning": ["📅", "📆", "🗒️", "🗓️", "📇", "📋", "📌", "📍", "📎", "🖇️", "📏", "📐", "✂️", "🗃️", "🗄️", "🗑️", "📁", "📂", "🗂️", "📄", "📃", "📑", "📜", "📰", "🗞️"],
                "季节月份 | Seasons & Months": ["🌸", "🌺", "🌻", "🌷", "🌹", "🌼", "🌿", "🍀", "🌱", "🌾", "🍂", "🍁", "🍃", "❄️", "☃️", "⛄", "🌨️", "🌬️", "💨", "🌪️", "🌫️", "🌈", "☔", "💧", "💦", "🌊"]
            },
            "商业与金融 | Business & Finance": {
                "货币金融 | Currency & Finance": ["💰", "💵", "💴", "💶", "💷", "💸", "🪙", "💳", "💎", "📈", "📉", "📊", "💹", "🏧", "🏦", "🏪", "🏬", "🏢", "🏭", "🏗️", "🏘️", "🏚️", "🏠", "🏡"],
                "商务办公 | Business Office": ["💼", "📁", "📂", "🗂️", "📅", "📆", "🗒️", "🗓️", "📇", "📈", "📉", "📊", "📋", "📌", "📍", "📎", "🖇️", "📏", "📐", "✂️", "🗃️", "🗄️", "🗑️", "💻", "🖥️", "🖨️", "⌨️", "🖱️", "🖲️"],
                "购物消费 | Shopping & Consumption": ["🛍️", "🛒", "🛁", "🚿", "🧴", "🧼", "🪒", "🧽", "🧹", "🪣", "🧺", "🧷", "🪡", "🧵", "🪢", "👕", "👔", "👖", "🧣", "🧤", "🧥", "🧦", "👗", "👘", "🥻", "🩱", "🩲", "🩳", "👙", "👚"]
            }
        };

        // Copy to clipboard function
        async function copyToClipboard(text) {
            try {
                await navigator.clipboard.writeText(text);
                showCopyNotification();
            } catch (err) {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showCopyNotification();
            }
        }

        // Show copy notification
        function showCopyNotification() {
            const notification = document.getElementById('copyNotification');
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }

        // Lazy loading variables
        let loadedCategories = 0;
        const categoriesPerLoad = 3; // 每次加载3个分类
        let allCategories = [];
        let totalEmojisCount = 0;

        // Search state and extra category
        let isSearching = false;
        let lastSearchCount = 0;

        const frequentlyUsedCategory = [
            "常用 | Frequently Used",
            {
                "常用 | Common": [
                    "😀","😂","😊","😍","🥰","😘","😉","😎","😢","😭","😡","🤔",
                    "🙏","👍","👎","✨","⭐","🔥","✅","❌","🎉","🎂","🍻","❤️",
                    "💔","🚀","🌟","🔍","📌"
                ]
            }
        ];

        // Initialize categories array
        function initializeCategories() {
            allCategories = Object.entries(emojiData);
            // Count total emojis (base + frequently used)
            totalEmojisCount = 0;
            for (const [categoryName, subcategories] of allCategories) {
                for (const [subName, emojis] of Object.entries(subcategories)) {
                    totalEmojisCount += emojis.length;
                }
            }
            // Include frequently used
            for (const [subName, emojis] of Object.entries(frequentlyUsedCategory[1])) {
                totalEmojisCount += emojis.length;
            }
        }

        // Render a single category
        function renderCategory(categoryName, subcategories) {
            const content = document.getElementById('content');
            
            const categoryDiv = document.createElement('div');
            categoryDiv.className = 'category';
            categoryDiv.style.opacity = '0';
            categoryDiv.style.transform = 'translateY(20px)';
            categoryDiv.style.transition = 'all 0.5s ease';
            
            const titleDiv = document.createElement('div');
            titleDiv.className = 'category-title';
            titleDiv.textContent = categoryName;
            categoryDiv.appendChild(titleDiv);
            
            for (const [subName, emojis] of Object.entries(subcategories)) {
                const subTitleDiv = document.createElement('h3');
                subTitleDiv.style.cssText = 'margin: 20px 0 15px 0; color: #666; font-size: 1.1em;';
                subTitleDiv.textContent = subName;
                categoryDiv.appendChild(subTitleDiv);
                
                const gridDiv = document.createElement('div');
                gridDiv.className = 'emoji-grid';
                
                emojis.forEach(emoji => {
                    const emojiDiv = document.createElement('div');
                    emojiDiv.className = 'emoji-item';
                    const span = document.createElement('span');
                    span.className = 'emoji-char';
                    span.textContent = emoji;
                    emojiDiv.appendChild(span);
                    emojiDiv.title = `点击复制 ${emoji}`;
                    emojiDiv.addEventListener('click', () => copyToClipboard(emoji));
                    gridDiv.appendChild(emojiDiv);
                });
                
                categoryDiv.appendChild(gridDiv);
            }
            
            content.appendChild(categoryDiv);
            
            // Animate in
            setTimeout(() => {
                categoryDiv.style.opacity = '1';
                categoryDiv.style.transform = 'translateY(0)';
            }, 100);
        }

        // Load more categories
        function loadMoreCategories() {
            const endIndex = Math.min(loadedCategories + categoriesPerLoad, allCategories.length);
            
            for (let i = loadedCategories; i < endIndex; i++) {
                const [categoryName, subcategories] = allCategories[i];
                renderCategory(categoryName, subcategories);
            }
            
            loadedCategories = endIndex;
            updateStats();
            
            // Show loading indicator if there are more categories
            if (loadedCategories < allCategories.length) {
                showLoadingIndicator();
            } else {
                hideLoadingIndicator();
            }
        }

        // Update stats
        function updateStats() {
            const loadedEmojis = calculateLoadedEmojis();
            const statsElement = document.getElementById('stats');
            if (isSearching) {
                statsElement.textContent = `找到 ${lastSearchCount} 个匹配 | Found ${lastSearchCount} matches`;
                return;
            }
            if (loadedCategories < allCategories.length) {
                statsElement.innerHTML = `已加载 ${loadedEmojis} 个表情符号，共 ${totalEmojisCount} 个 | Loaded ${loadedEmojis} of ${totalEmojisCount} emojis<br><small>继续滚动加载更多分类...</small>`;
            } else {
                statsElement.textContent = `共收录 ${totalEmojisCount} 个表情符号 | Total ${totalEmojisCount} emojis collected`;
            }
        }

        // Calculate loaded emojis count
        function calculateLoadedEmojis() {
            let count = 0;
            // Include frequently used category
            for (const [subName, emojis] of Object.entries(frequentlyUsedCategory[1])) {
                count += emojis.length;
            }
            for (let i = 0; i < loadedCategories; i++) {
                const [categoryName, subcategories] = allCategories[i];
                for (const [subName, emojis] of Object.entries(subcategories)) {
                    count += emojis.length;
                }
            }
            return count;
        }

        // Show loading indicator
        function showLoadingIndicator() {
            let indicator = document.getElementById('loadingIndicator');
            if (!indicator) {
                indicator = document.createElement('div');
                indicator.id = 'loadingIndicator';
                indicator.style.cssText = `
                    text-align: center;
                    padding: 40px;
                    color: #666;
                    font-size: 1.1em;
                `;
                indicator.innerHTML = `
                    <div style="display: inline-block; width: 20px; height: 20px; border: 3px solid #ddd; border-top: 3px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px;"></div>
                    继续滚动加载更多表情...
                `;
                document.getElementById('content').appendChild(indicator);
                
                // Add spin animation
                if (!document.getElementById('spinStyle')) {
                    const style = document.createElement('style');
                    style.id = 'spinStyle';
                    style.textContent = `
                        @keyframes spin {
                            0% { transform: rotate(0deg); }
                            100% { transform: rotate(360deg); }
                        }
                    `;
                    document.head.appendChild(style);
                }
            }
        }

        // Hide loading indicator
        function hideLoadingIndicator() {
            const indicator = document.getElementById('loadingIndicator');
            if (indicator) {
                indicator.remove();
            }
        }

        // Scroll event handler for lazy loading
        function handleScroll() {
            if (isSearching) return;
            if (loadedCategories >= allCategories.length) return;
            
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const windowHeight = window.innerHeight;
            const documentHeight = document.documentElement.scrollHeight;
            
            // Load more when user scrolls to 80% of the page
            if (scrollTop + windowHeight >= documentHeight * 0.8) {
                loadMoreCategories();
            }
        }

        // Initial render
        function renderEmojis() {
            initializeCategories();
            // Render frequently used category first
            renderCategory(frequentlyUsedCategory[0], frequentlyUsedCategory[1]);
            loadMoreCategories();
        }

        // Search functionality（跨全量数据构建搜索结果）
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            let debounceTimer;

            function clearSearchResults() {
                const results = document.getElementById('searchResults');
                if (results) results.remove();
                isSearching = false;
                lastSearchCount = 0;
                // Show categories back
                document.querySelectorAll('.category').forEach(cat => cat.style.display = 'block');
                updateStats();
            }

            function performSearch(query) {
                const content = document.getElementById('content');
                let results = document.getElementById('searchResults');
                if (!results) {
                    results = document.createElement('div');
                    results.id = 'searchResults';
                    content.insertBefore(results, content.firstChild);
                }
                results.innerHTML = '';
                isSearching = true;

                const titleDiv = document.createElement('div');
                titleDiv.className = 'category-title';
                titleDiv.textContent = '搜索结果 | Search Results';
                results.appendChild(titleDiv);

                const gridDiv = document.createElement('div');
                gridDiv.className = 'emoji-grid';
                results.appendChild(gridDiv);

                const q = query.toLowerCase();
                lastSearchCount = 0;

                function addEmoji(emoji) {
                    const emojiDiv = document.createElement('div');
                    emojiDiv.className = 'emoji-item';
                    const span = document.createElement('span');
                    span.className = 'emoji-char';
                    span.textContent = emoji;
                    emojiDiv.appendChild(span);
                    emojiDiv.title = `点击复制 ${emoji}`;
                    emojiDiv.addEventListener('click', () => copyToClipboard(emoji));
                    gridDiv.appendChild(emojiDiv);
                    lastSearchCount++;
                }

                const sources = [frequentlyUsedCategory, ...Object.entries(emojiData)];
                sources.forEach(([categoryName, subcategories]) => {
                    const catMatch = categoryName.toLowerCase().includes(q);
                    for (const [subName, emojis] of Object.entries(subcategories)) {
                        const subMatch = subName.toLowerCase().includes(q);
                        if (catMatch || subMatch) {
                            emojis.forEach(addEmoji);
                        } else {
                            emojis.forEach(emoji => {
                                if (emoji.includes(query)) addEmoji(emoji);
                            });
                        }
                    }
                });

                // Hide original categories & stop loading indicator
                document.querySelectorAll('.category').forEach(cat => cat.style.display = 'none');
                hideLoadingIndicator();
                updateStats();
            }

            searchInput.addEventListener('input', (e) => {
                const query = e.target.value.trim();
                clearTimeout(debounceTimer);
                debounceTimer = setTimeout(() => {
                    if (query === '') {
                        clearSearchResults();
                    } else {
                        performSearch(query);
                    }
                }, 150);
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            renderEmojis();
            setupSearch();
            
            // Add scroll listener for lazy loading
            window.addEventListener('scroll', handleScroll);
            
            // Add throttling to scroll event
            let scrollTimeout;
            const originalHandleScroll = handleScroll;
            handleScroll = () => {
                if (scrollTimeout) return;
                scrollTimeout = setTimeout(() => {
                    originalHandleScroll();
                    scrollTimeout = null;
                }, 100);
            };
        });
    </script>
</body>
</html>
